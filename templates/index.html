<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>AMIC Construction PPE Detection</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
  </head>
  <body>
    <h1>AMIC Construction PPE Detection</h1>
    <div class="prompt-container">
      <input
        type="text"
        id="prompt-input"
        placeholder="Enter prompts (e.g., worker with helmet, heavy machinery)"
      />
      <button id="update-btn" onclick="updatePrompts()">Update Prompts</button>
      <button id="clear-btn" onclick="clearPrompts()">Clear Prompts</button>
      <button id="toggle-mode-btn" onclick="toggleDisplayMode()">Switch to Segmentation</button>
      <button id="visual-prompt-btn" onclick="window.location.href='/visual_prompt'">Add Visual Prompt</button>
      <button id="clear-visual-prompt-btn" onclick="clearVisualPrompts()">Clear Visual Prompts</button>
      <span id="visual-prompt-status"></span>
    </div>
    <div class="video-container">
      <img id="video-feed" src="{{ url_for('video_feed') }}" alt="Video Feed" />
      <canvas id="overlay-canvas"></canvas>
      <img src="{{ url_for('static', filename='joint_logo.png') }}" class="logo" alt="AMIC Logo" />
    </div>
    <div id="warning"></div>
    <script>
      // Define visualPromptsActive as a global variable
      window.visualPromptsActive = {{ visual_prompts_active | tojson }};
    </script>
    <script src="{{ url_for('static', filename='js/index.js') }}"></script>
  </body>
</html>